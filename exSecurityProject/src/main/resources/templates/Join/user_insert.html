<th:block th:replace="~{Include/topmenu}"></th:block>

<!DOCTYPE html>
<html>
<head>
<title>회원등록</title>
<STYLE TYPE="text/css">
<!--
body { font-family: 돋움, Verdana; font-size: 9pt}
td   { font-family: 돋움, Verdana; font-size: 9pt; text-decoration: none; color: #000000; BACKGROUND-POSITION: left top; BACKGROUND-REPEAT: no-repeat;}
-->
.formbox {
	BACKGROUND-COLOR: #F0F0F0; FONT-FAMILY: "Verdana", "Arial", "Helvetica", "돋움"; FONT-SIZE:9pt
} 
-->
</STYLE>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> 
<script type="text/javascript">
	$(function(){
		$("#smscheck").hide();
		//유효성 검사
		$("#userSend").click(function(){
			if($("#name").val()==''){
				alert("이름을 입력하세요.");
				$("#name").focus();
				return;
			}
			//ID검사
			if($("#userid").val()==''){
				alert("id를 입력하세요.");
				$("#userid").focus();
				return;
			}
			//Pass
			if($("#passwd").val()==''){
				alert("비밀번호를 입력하세요.");
				$("#passwd").focus();
				return;
			}
			if($("#repasswd").val()==''){
				alert("비밀번호확인을 입력하세요.");
				$("#repasswd").focus();
				return;
			}
			//tel
			if($("#tel").val()==''){
				alert("전화번호를 입력하세요.");
				$("#tel").focus();
				return;
			}
			$("#user").submit();
		});
		
		// 다시쓰기
		$("#userReset").click(function(){
			alert("모든 지우고 다시 입력합니다.")
			$("#user")[0].reset();
			$("#name").focus();
		});
	
		//아이디 중복 검사
		$("#userid").change(function(){
			var userid = $("#userid").val();
			//alert("AAAA" + userid);
			//ajax
			$.ajax({
				url:'/Join/user_idCheck',
				type:'post',
				data:{'userid':userid}, //JSON 타입
				success:function(result){
					if(result==0){
						//중복된 아이디가 없는 경우
						userID_c.innerHTML="사용가능한 아이디입니다.";
					}else{
						//id 중복
						userID_c.innerHTML="중복된 아이디입니다.";
						$("#userid").val('');//입력된 값 지우기
						$("#userid").focus();//커서이동
					}
				}
			});
		});

		//비번 확인
		$("#repasswd").change(function(){
			if($("#passwd").val() == $("#repasswd").val()){
				repasswd_c.innerHTML="확인되었습니다.";
			}else{
				repasswd_c.innerHTML="비밀번호를 다시 입력하세요";
				$("#repasswd").val('');
				$("#repasswd").focus();
			}
		});
		//SMS 본인인증
		$("#phoneBtn1").click(function(){
			//전화번호 유효성
			if($("#tel").val()==''){
				alert("전화번호를 입력해주세요.");
				$("#tel").focus();
				return;
			}
			var tel = $("#tel").val();
			//ajax
			$.ajax({
				url:'user_sms',
				type:'post',
				data:{'tel':tel}, //JSON 타입
				success:function(result){
					phone_c.innerHTML="인증번호가 전송되었습니다";
					$("#usersms").val(result);
				}
			});
			$("#smscheck").show();
		});
		
		//인증번호 확인
		$("#phoneBtn3").click(function(){
			if($("#usersms").val() == $("#resms").val()){
				resms_c.innerHTML="인증되었습니다"
			}else{
				resms_c.innerHTML="인증번호가 맞지않습니다 다시입력하세요"
				$("#resms").val('');
				$("#resms").focus();
			}
		});
		
		//이메일 체크
		$("#email3").change(function(){
			if($("#email3").val()!=0){
				$("#email2").val($("#email3").val());
				$("#email2").attr("readonly", true);
			}else{
				$("#email2").attr("readonly", false);
				$("#email2").val('');
			}
		});
		
		//이메일 인증
		
	});
	
	//전형적인 자바스크립트
	function sendOld(){
		if(user.name.value==""){
			alert("이름입력");
			user.name.focus();
			return;
		}
		if(user.userid.value==""){
			alert("아이디입력");
			user.userid.focus();
			return;
		}
		if(user.passwd.value==""){
			alert("비번입력");
			user.passwd.focus();
			return;
		}
		user.submit();
	}
	
</script>
</head>

<body bgcolor="#FFFFFF" LEFTMARGIN=0  TOPMARGIN=0 >
 
 <!-- 탑 메뉴 영역 삽입-->


<table border="0" width="800">
<tr>
  <td width="20%"  bgcolor="#ecf1ef" valign="top" style="padding-left:0">
	
	<!-- 다음에 추가할 부분 -->
	<th:block th:replace="~{Include/login_form}"></th:block>

  </td>
  <td width="80%" valign="top">&nbsp;<img src="/img/title1.gif" ><br>    
	<form name="user" method=post action="user_insert">
	<table border=0 cellpadding=0 cellspacing=0 width=730 valign=top>
		<tr><td align=center><br>                            
			<table cellpadding=0 cellspacing=0 border=0 width=650 align=center>       
				<tr>
					<td bgcolor="#7AAAD5">            
						<table cellpadding=0 cellspacing=0 border=0 width=100%>
							<tr bgcolor=#7AAAD5>
								<td align=left BORDER="0" HSPACE="0" VSPACE="0"><img src="/img/u_b02.gif"></td>
								<td align=center bgcolor="#7AAAD5"><FONT COLOR="#FFFFFF"><b>사용자등록&nbsp;</b><font color=black>(</font><font color=red>&nbsp;*&nbsp;</font><font color=black>표시항목은 반드시 입력하십시요.)</font></FONT></td>
								<td align=right BORDER="0" HSPACE="0" VSPACE="0"><img src="/img/u_b03.gif"></td>
							</tr>
						</table>
						<table cellpadding=3 cellspacing=1 border=0 width=100%>
							<tr>
								<td width=110 bgcolor=#EFF4F8>&nbsp;회원 성명<font color=red>&nbsp;*</font></td>
								<TD BGCOLOR=WHITE>
									<input type=text id=name name=name size=16 maxlength=20 value="" placeholder="성명은 빈칸없이 입력하세요.">
								</td>
							</tr>
							<tr>
								<TD BGCOLOR="#EFF4F8">&nbsp;회원 ID<font color=red>&nbsp;*</font></td>
								<TD BGCOLOR=WHITE>
									<table cellspacing=0 cellpadding=0>
										<tr>
											<td align=absmiddle>
												<input type=text id=userid name=userid size=12 maxlength=16 value="" style="width:120">
											</td>
											<td id="userID_c">
                  								[ 5~16자 이내의 영문이나 숫자만 가능합니다. ]
                  							</td>
										</tr>
									</table>
								</td>
							</tr>
							<tr>
								<TD BGCOLOR="#EFF4F8">&nbsp;비밀번호<font color=red>&nbsp;*</font></td>
								<TD BGCOLOR=WHITE>
								<input type=password id=passwd name=passwd size=8 maxlength=12 style="width:80">
									6~12자 이내의 영문이나 숫자만 가능합니다.
								</td>
							</tr>
							<tr>
								<TD BGCOLOR="#EFF4F8">&nbsp;비밀번호확인<font color=red>&nbsp;*</font></td>
								<TD BGCOLOR=WHITE><input type=password id=repasswd name=repasswd size=8 maxlength=12 value="" style="width:80">
									<font id=repasswd_c color=red>&nbsp;*비밀번호 확인을 위해서 비밀번호를 한번 더 입력해주세요. </font> 
								</td>
							</tr>
							<tr>
								<TD BGCOLOR="#EFF4F8">&nbsp;전화번호<font color=red>&nbsp;*</font></td>
								<TD BGCOLOR=WHITE>
									<input type=text id=tel name=tel size=13 maxlength=13 value="" placeholder="휴대전화번호 (-제외)">
									<input type="button" id="phoneBtn1" value="인증번호받기">
									<font id="phone_c" size="2" color="red">&nbsp;</font>
								</td>
							</tr>
							<tr id="smscheck">
								<TD BGCOLOR="#EFF4F8">&nbsp;인증번호<font color=red>&nbsp;*</font></td>
								<TD BGCOLOR=WHITE>
									<input type=text id="resms" name="resms" size=13 maxlength=13 placeholder="인증번호를 입력하세요">
									<input type="button" id="phoneBtn2" value="재발송">
                    				<font id="resms_r" size="2" color="red">&nbsp;</font>
                    				<input type="button" value="인증" id="phoneBtn3">
                    				<font id="resms_c" size="2" color="red">&nbsp;</font>
								</td>
							</tr>							
							<tr>
								<TD BGCOLOR="#EFF4F8">&nbsp;E-mail
                					<font color=red>&nbsp;</font>
								</td>
								<td bgcolor=WHITE valign=middle>
									<input type="text" name="email1" size=13 maxlength="15">
									@ <input type="text" name="email2" size=13 maxlength="15">
									<select name="email2">
		      							<option value="0">직접입력</option>
		      							<option value="naver.com">naver.com</option>
		      							<option value="daum.net">daum.net</option>
		      							<option value="nate.com">nate.com</option>
		      							<option value="gmail.com">gmail.com</option>
		  							   </select>
									 <input type="button"  value="인증하기">
								</td>
							</tr>
						</table>
						<table cellpadding=0 cellspacing=0 border=0 width=100%>
							<tr bgcolor=#7AAAD5>
								<td valign=bottom>
									<img src="/img/u_b04.gif" align=left hspace=0 vspace=0 border=0>
								</td>
								<td align=center></td>
								<td valign=bottom>
									<img src="/img/u_b05.gif" align=right hspace=0 vspace=0 border=0>
								</td>
							</tr>
							<tr bgcolor=#ffffff>
								<td colspan=3 align=center>
								<!-- 
									<img src="/img/u_bt06.gif" vspace=3 border=0 name=img3 id="userSend">
									<img src="/img/u_bt05.gif" border=0 hspace=10 vspace=3 name=img4 id="userReset">
								 -->	
									<img src="/img/u_bt06.gif" vspace=3 border=0 name=img3 onClick="sendOld()">
									<img src="/img/u_bt05.gif" border=0 hspace=10 vspace=3 name=img4 id="userReset">
								</td>
							</tr>
						</table> 
					</td>
				</tr>
				</td>
			</tr>
		</table>
	</form>
	</td>
</tr>
</table>

 <!-- copyright 영역 삽입-->
  

</body>
</html>
